{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';import SearchBar from'./SearchBar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const{currentUser,isAdmin,logout}=useAuth();const navigate=useNavigate();const location=useLocation();const[scrolled,setScrolled]=useState(false);const[menuOpen,setMenuOpen]=useState(false);// Xử lý sự kiện scroll để thay đổi hiệu ứng header\nuseEffect(()=>{const handleScroll=()=>{const offset=window.scrollY;if(offset>50){setScrolled(true);}else{setScrolled(false);}};window.addEventListener('scroll',handleScroll);return()=>{window.removeEventListener('scroll',handleScroll);};},[]);// Xử lý đăng xuất\nconst handleLogout=async()=>{try{await logout();navigate('/');}catch(error){console.error('Lỗi khi đăng xuất:',error);}};// Kiểm tra xem liên kết có đang active không\nconst isActive=path=>{return location.pathname===path;};// Đóng menu khi chọn liên kết (trên mobile)\nconst closeMenu=()=>{setMenuOpen(false);};// Xử lý tìm kiếm\nconst handleSearch=query=>{navigate(\"/search?q=\".concat(encodeURIComponent(query)));closeMenu();};return/*#__PURE__*/_jsxs(\"header\",{className:scrolled?'scrolled':'',children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"brand\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gradient-text\",children:\"WebAPPP\"}),\" Blog\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-center\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-links \".concat(menuOpen?'active':''),children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:isActive('/')?'active':'',onClick:closeMenu,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home\"}),\" Trang ch\\u1EE7\"]})}),isAdmin&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/admin\",className:isActive('/admin')?'active':'',onClick:closeMenu,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cogs\"}),\" Qu\\u1EA3n tr\\u1ECB\"]})}),currentUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile\",className:isActive('/profile')?'active':'',onClick:closeMenu,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\" H\\u1ED3 s\\u01A1\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"nav-button\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt\"}),\" \\u0110\\u0103ng xu\\u1EA5t\"]})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/login\",className:isActive('/login')?'active':'',onClick:closeMenu,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-in-alt\"}),\" \\u0110\\u0103ng nh\\u1EADp\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/register\",className:\"nav-button-highlighted \".concat(isActive('/register')?'active':''),onClick:closeMenu,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus\"}),\" \\u0110\\u0103ng k\\xFD\"]})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-right\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-toggle \".concat(menuOpen?'active':''),onClick:()=>setMenuOpen(!menuOpen),children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"scroll-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"scroll-progress-bar\"})})]});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","useAuth","SearchBar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","currentUser","isAdmin","logout","navigate","location","scrolled","setScrolled","menuOpen","setMenuOpen","handleScroll","offset","window","scrollY","addEventListener","removeEventListener","handleLogout","error","console","isActive","path","pathname","closeMenu","handleSearch","query","concat","encodeURIComponent","className","children","to","onClick","onSearch"],"sources":["C:/Users/User/OneDrive/Documents/VSCode/web/WebAPPP/client/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport SearchBar from './SearchBar';\n\nconst Header = () => {\n  const { currentUser, isAdmin, logout } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [scrolled, setScrolled] = useState(false);\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  // Xử lý sự kiện scroll để thay đổi hiệu ứng header\n  useEffect(() => {\n    const handleScroll = () => {\n      const offset = window.scrollY;\n      if (offset > 50) {\n        setScrolled(true);\n      } else {\n        setScrolled(false);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  // Xử lý đăng xuất\n  const handleLogout = async () => {\n    try {\n      await logout();\n      navigate('/');\n    } catch (error) {\n      console.error('Lỗi khi đăng xuất:', error);\n    }\n  };\n\n  // Kiểm tra xem liên kết có đang active không\n  const isActive = (path) => {\n    return location.pathname === path;\n  };\n\n  // Đóng menu khi chọn liên kết (trên mobile)\n  const closeMenu = () => {\n    setMenuOpen(false);\n  };\n\n  // Xử lý tìm kiếm\n  const handleSearch = (query) => {\n    navigate(`/search?q=${encodeURIComponent(query)}`);\n    closeMenu();\n  };\n\n  return (\n    <header className={scrolled ? 'scrolled' : ''}>\n      <div className=\"container\">\n        <nav className=\"navbar\">\n          <Link to=\"/\" className=\"brand\">\n            <span className=\"gradient-text\">WebAPPP</span> Blog\n          </Link>\n\n          <div className=\"navbar-center\">\n            <ul className={`nav-links ${menuOpen ? 'active' : ''}`}>\n              <li>\n                <Link\n                  to=\"/\"\n                  className={isActive('/') ? 'active' : ''}\n                  onClick={closeMenu}\n                >\n                  <i className=\"fas fa-home\"></i> Trang chủ\n                </Link>\n              </li>\n\n              {isAdmin && (\n                <li>\n                  <Link\n                    to=\"/admin\"\n                    className={isActive('/admin') ? 'active' : ''}\n                    onClick={closeMenu}\n                  >\n                    <i className=\"fas fa-cogs\"></i> Quản trị\n                  </Link>\n                </li>\n              )}\n\n              {currentUser ? (\n                <>\n                  <li>\n                    <Link\n                      to=\"/profile\"\n                      className={isActive('/profile') ? 'active' : ''}\n                      onClick={closeMenu}\n                    >\n                      <i className=\"fas fa-user\"></i> Hồ sơ\n                    </Link>\n                  </li>\n                  <li>\n                    <button\n                      onClick={handleLogout}\n                      className=\"nav-button\"\n                    >\n                      <i className=\"fas fa-sign-out-alt\"></i> Đăng xuất\n                    </button>\n                  </li>\n                </>\n              ) : (\n                <>\n                  <li>\n                    <Link\n                      to=\"/login\"\n                      className={isActive('/login') ? 'active' : ''}\n                      onClick={closeMenu}\n                    >\n                      <i className=\"fas fa-sign-in-alt\"></i> Đăng nhập\n                    </Link>\n                  </li>\n                  <li>\n                    <Link\n                      to=\"/register\"\n                      className={`nav-button-highlighted ${isActive('/register') ? 'active' : ''}`}\n                      onClick={closeMenu}\n                    >\n                      <i className=\"fas fa-user-plus\"></i> Đăng ký\n                    </Link>\n                  </li>\n                </>\n              )}\n            </ul>\n          </div>\n\n          <div className=\"navbar-right\">\n            <SearchBar onSearch={handleSearch} />\n\n            {/* Menu toggle button cho mobile */}\n            <div\n              className={`menu-toggle ${menuOpen ? 'active' : ''}`}\n              onClick={() => setMenuOpen(!menuOpen)}\n            >\n              <span></span>\n              <span></span>\n              <span></span>\n            </div>\n          </div>\n        </nav>\n      </div>\n\n      {/* Thanh tiến trình cuộn */}\n      <div className=\"scroll-progress\">\n        <div className=\"scroll-progress-bar\"></div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpC,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAEC,WAAW,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAGX,OAAO,CAAC,CAAC,CAClD,KAAM,CAAAY,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACqB,QAAQ,CAAEC,WAAW,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE/C;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsB,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,MAAM,CAAGC,MAAM,CAACC,OAAO,CAC7B,GAAIF,MAAM,CAAG,EAAE,CAAE,CACfJ,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,IAAM,CACLA,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAEDK,MAAM,CAACE,gBAAgB,CAAC,QAAQ,CAAEJ,YAAY,CAAC,CAC/C,MAAO,IAAM,CACXE,MAAM,CAACG,mBAAmB,CAAC,QAAQ,CAAEL,YAAY,CAAC,CACpD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAM,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAb,MAAM,CAAC,CAAC,CACdC,QAAQ,CAAC,GAAG,CAAC,CACf,CAAE,MAAOa,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC5C,CACF,CAAC,CAED;AACA,KAAM,CAAAE,QAAQ,CAAIC,IAAI,EAAK,CACzB,MAAO,CAAAf,QAAQ,CAACgB,QAAQ,GAAKD,IAAI,CACnC,CAAC,CAED;AACA,KAAM,CAAAE,SAAS,CAAGA,CAAA,GAAM,CACtBb,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED;AACA,KAAM,CAAAc,YAAY,CAAIC,KAAK,EAAK,CAC9BpB,QAAQ,cAAAqB,MAAA,CAAcC,kBAAkB,CAACF,KAAK,CAAC,CAAE,CAAC,CAClDF,SAAS,CAAC,CAAC,CACb,CAAC,CAED,mBACEzB,KAAA,WAAQ8B,SAAS,CAAErB,QAAQ,CAAG,UAAU,CAAG,EAAG,CAAAsB,QAAA,eAC5CjC,IAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB/B,KAAA,QAAK8B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB/B,KAAA,CAACR,IAAI,EAACwC,EAAE,CAAC,GAAG,CAACF,SAAS,CAAC,OAAO,CAAAC,QAAA,eAC5BjC,IAAA,SAAMgC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,QAChD,EAAM,CAAC,cAEPjC,IAAA,QAAKgC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B/B,KAAA,OAAI8B,SAAS,cAAAF,MAAA,CAAejB,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAAoB,QAAA,eACrDjC,IAAA,OAAAiC,QAAA,cACE/B,KAAA,CAACR,IAAI,EACHwC,EAAE,CAAC,GAAG,CACNF,SAAS,CAAER,QAAQ,CAAC,GAAG,CAAC,CAAG,QAAQ,CAAG,EAAG,CACzCW,OAAO,CAAER,SAAU,CAAAM,QAAA,eAEnBjC,IAAA,MAAGgC,SAAS,CAAC,aAAa,CAAI,CAAC,kBACjC,EAAM,CAAC,CACL,CAAC,CAEJzB,OAAO,eACNP,IAAA,OAAAiC,QAAA,cACE/B,KAAA,CAACR,IAAI,EACHwC,EAAE,CAAC,QAAQ,CACXF,SAAS,CAAER,QAAQ,CAAC,QAAQ,CAAC,CAAG,QAAQ,CAAG,EAAG,CAC9CW,OAAO,CAAER,SAAU,CAAAM,QAAA,eAEnBjC,IAAA,MAAGgC,SAAS,CAAC,aAAa,CAAI,CAAC,sBACjC,EAAM,CAAC,CACL,CACL,CAEA1B,WAAW,cACVJ,KAAA,CAAAE,SAAA,EAAA6B,QAAA,eACEjC,IAAA,OAAAiC,QAAA,cACE/B,KAAA,CAACR,IAAI,EACHwC,EAAE,CAAC,UAAU,CACbF,SAAS,CAAER,QAAQ,CAAC,UAAU,CAAC,CAAG,QAAQ,CAAG,EAAG,CAChDW,OAAO,CAAER,SAAU,CAAAM,QAAA,eAEnBjC,IAAA,MAAGgC,SAAS,CAAC,aAAa,CAAI,CAAC,mBACjC,EAAM,CAAC,CACL,CAAC,cACLhC,IAAA,OAAAiC,QAAA,cACE/B,KAAA,WACEiC,OAAO,CAAEd,YAAa,CACtBW,SAAS,CAAC,YAAY,CAAAC,QAAA,eAEtBjC,IAAA,MAAGgC,SAAS,CAAC,qBAAqB,CAAI,CAAC,4BACzC,EAAQ,CAAC,CACP,CAAC,EACL,CAAC,cAEH9B,KAAA,CAAAE,SAAA,EAAA6B,QAAA,eACEjC,IAAA,OAAAiC,QAAA,cACE/B,KAAA,CAACR,IAAI,EACHwC,EAAE,CAAC,QAAQ,CACXF,SAAS,CAAER,QAAQ,CAAC,QAAQ,CAAC,CAAG,QAAQ,CAAG,EAAG,CAC9CW,OAAO,CAAER,SAAU,CAAAM,QAAA,eAEnBjC,IAAA,MAAGgC,SAAS,CAAC,oBAAoB,CAAI,CAAC,4BACxC,EAAM,CAAC,CACL,CAAC,cACLhC,IAAA,OAAAiC,QAAA,cACE/B,KAAA,CAACR,IAAI,EACHwC,EAAE,CAAC,WAAW,CACdF,SAAS,2BAAAF,MAAA,CAA4BN,QAAQ,CAAC,WAAW,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC7EW,OAAO,CAAER,SAAU,CAAAM,QAAA,eAEnBjC,IAAA,MAAGgC,SAAS,CAAC,kBAAkB,CAAI,CAAC,wBACtC,EAAM,CAAC,CACL,CAAC,EACL,CACH,EACC,CAAC,CACF,CAAC,cAEN9B,KAAA,QAAK8B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjC,IAAA,CAACF,SAAS,EAACsC,QAAQ,CAAER,YAAa,CAAE,CAAC,cAGrC1B,KAAA,QACE8B,SAAS,gBAAAF,MAAA,CAAiBjB,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CACrDsB,OAAO,CAAEA,CAAA,GAAMrB,WAAW,CAAC,CAACD,QAAQ,CAAE,CAAAoB,QAAA,eAEtCjC,IAAA,UAAY,CAAC,cACbA,IAAA,UAAY,CAAC,cACbA,IAAA,UAAY,CAAC,EACV,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cAGNA,IAAA,QAAKgC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BjC,IAAA,QAAKgC,SAAS,CAAC,qBAAqB,CAAM,CAAC,CACxC,CAAC,EACA,CAAC,CAEb,CAAC,CAED,cAAe,CAAA3B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}