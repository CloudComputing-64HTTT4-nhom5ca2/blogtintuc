{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter,Routes,Route}from'react-router-dom';import Home from'./pages/Home';import PostDetail from'./pages/PostDetail';import Login from'./pages/Login';import Register from'./pages/Register';import AdminDashboard from'./pages/admin/AdminDashboard';import AdminPosts from'./pages/admin/AdminPosts';import CreatePost from'./pages/admin/CreatePost';import EditPost from'./pages/admin/EditPost';import Profile from'./pages/Profile';import NotFound from'./pages/NotFound';import{AuthProvider}from'./context/AuthContext';import ProtectedRoute from'./components/ProtectedRoute';import AdminRoute from'./components/AdminRoute';import Header from'./components/Header';import Footer from'./components/Footer';import Search from'./pages/Search';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Xử lý thanh progress khi cuộn trang\nuseEffect(()=>{const handleScroll=()=>{const totalScroll=document.documentElement.scrollHeight-document.documentElement.clientHeight;const scrollPosition=window.scrollY;const scrollProgress=scrollPosition/totalScroll*100;const progressBar=document.querySelector('.scroll-progress-bar');if(progressBar){progressBar.style.width=\"\".concat(scrollProgress,\"%\");}// Hiển thị/ẩn nút scroll to top\nconst scrollToTopBtn=document.querySelector('.scroll-to-top');if(scrollToTopBtn){if(scrollPosition>300){scrollToTopBtn.classList.add('visible');// Thêm hiệu ứng pulse khi gần cuối trang\nif(scrollProgress>80){scrollToTopBtn.classList.add('pulse');}else{scrollToTopBtn.classList.remove('pulse');}}else{scrollToTopBtn.classList.remove('visible');scrollToTopBtn.classList.remove('pulse');}}};// Thêm scroll event listener\nwindow.addEventListener('scroll',handleScroll);// Xử lý smooth scroll khi click vào liên kết\nconst setupSmoothScroll=()=>{document.querySelectorAll('a[href^=\"#\"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const target=document.querySelector(this.getAttribute('href'));if(target){window.scrollTo({top:target.offsetTop-70,// Trừ chiều cao của header\nbehavior:'smooth'});}});});};setupSmoothScroll();// Clean up event listeners\nreturn()=>{window.removeEventListener('scroll',handleScroll);document.querySelectorAll('a[href^=\"#\"]').forEach(anchor=>{anchor.removeEventListener('click',function(){});});};},[]);return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",id:\"top\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"container\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/:id\",element:/*#__PURE__*/_jsx(PostDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search\",element:/*#__PURE__*/_jsx(Search,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/posts\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminPosts,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/posts/create\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(CreatePost,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/posts/edit/:id\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(EditPost,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(\"button\",{className:\"scroll-to-top\",onClick:()=>window.scrollTo({top:0,behavior:'smooth'}),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-up\"})})]})})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Routes","Route","Home","PostDetail","Login","Register","AdminDashboard","AdminPosts","CreatePost","EditPost","Profile","NotFound","AuthProvider","ProtectedRoute","AdminRoute","Header","Footer","Search","jsx","_jsx","jsxs","_jsxs","App","handleScroll","totalScroll","document","documentElement","scrollHeight","clientHeight","scrollPosition","window","scrollY","scrollProgress","progressBar","querySelector","style","width","concat","scrollToTopBtn","classList","add","remove","addEventListener","setupSmoothScroll","querySelectorAll","forEach","anchor","e","preventDefault","target","getAttribute","scrollTo","top","offsetTop","behavior","removeEventListener","children","className","id","path","element","onClick"],"sources":["C:/Users/User/OneDrive/Documents/VSCode/web/WebAPPP/client/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Home from './pages/Home';\nimport PostDetail from './pages/PostDetail';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport AdminPosts from './pages/admin/AdminPosts';\nimport CreatePost from './pages/admin/CreatePost';\nimport EditPost from './pages/admin/EditPost';\nimport Profile from './pages/Profile';\nimport NotFound from './pages/NotFound';\nimport { AuthProvider } from './context/AuthContext';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport AdminRoute from './components/AdminRoute';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Search from './pages/Search';\nimport './App.css';\n\nfunction App() {\n  // Xử lý thanh progress khi cuộn trang\n  useEffect(() => {\n    const handleScroll = () => {\n      const totalScroll = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n      const scrollPosition = window.scrollY;\n      const scrollProgress = (scrollPosition / totalScroll) * 100;\n\n      const progressBar = document.querySelector('.scroll-progress-bar');\n      if (progressBar) {\n        progressBar.style.width = `${scrollProgress}%`;\n      }\n\n      // Hiển thị/ẩn nút scroll to top\n      const scrollToTopBtn = document.querySelector('.scroll-to-top');\n      if (scrollToTopBtn) {\n        if (scrollPosition > 300) {\n          scrollToTopBtn.classList.add('visible');\n\n          // Thêm hiệu ứng pulse khi gần cuối trang\n          if (scrollProgress > 80) {\n            scrollToTopBtn.classList.add('pulse');\n          } else {\n            scrollToTopBtn.classList.remove('pulse');\n          }\n        } else {\n          scrollToTopBtn.classList.remove('visible');\n          scrollToTopBtn.classList.remove('pulse');\n        }\n      }\n    };\n\n    // Thêm scroll event listener\n    window.addEventListener('scroll', handleScroll);\n\n    // Xử lý smooth scroll khi click vào liên kết\n    const setupSmoothScroll = () => {\n      document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function(e) {\n          e.preventDefault();\n          const target = document.querySelector(this.getAttribute('href'));\n          if (target) {\n            window.scrollTo({\n              top: target.offsetTop - 70, // Trừ chiều cao của header\n              behavior: 'smooth'\n            });\n          }\n        });\n      });\n    };\n\n    setupSmoothScroll();\n\n    // Clean up event listeners\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.removeEventListener('click', function() {});\n      });\n    };\n  }, []);\n\n  return (\n    <AuthProvider>\n      <BrowserRouter>\n        <div className=\"app\" id=\"top\">\n          <Header />\n          <main className=\"container\">\n            <Routes>\n              {/* Trang công khai */}\n              <Route path=\"/\" element={<Home />} />\n              <Route path=\"/post/:id\" element={<PostDetail />} />\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/register\" element={<Register />} />\n              <Route path=\"/search\" element={<Search />} />\n\n              {/* Trang yêu cầu đăng nhập */}\n              <Route path=\"/profile\" element={\n                <ProtectedRoute>\n                  <Profile />\n                </ProtectedRoute>\n              } />\n\n              {/* Trang Admin */}\n              <Route path=\"/admin\" element={\n                <AdminRoute>\n                  <AdminDashboard />\n                </AdminRoute>\n              } />\n              <Route path=\"/admin/posts\" element={\n                <AdminRoute>\n                  <AdminPosts />\n                </AdminRoute>\n              } />\n              <Route path=\"/admin/posts/create\" element={\n                <AdminRoute>\n                  <CreatePost />\n                </AdminRoute>\n              } />\n              <Route path=\"/admin/posts/edit/:id\" element={\n                <AdminRoute>\n                  <EditPost />\n                </AdminRoute>\n              } />\n\n              {/* Trang không tìm thấy */}\n              <Route path=\"*\" element={<NotFound />} />\n            </Routes>\n          </main>\n          <Footer />\n\n          {/* Nút scroll to top */}\n          <button className=\"scroll-to-top\" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>\n            <i className=\"fas fa-arrow-up\"></i>\n          </button>\n        </div>\n      </BrowserRouter>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}