{"ast":null,"code":"import _objectSpread from\"C:/Users/User/OneDrive/Documents/VSCode/web/WebAPPP/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{ref,onValue}from'firebase/database';import{database}from'../../firebase';import AdminSidebar from'../../components/AdminSidebar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[stats,setStats]=useState({totalPosts:0,totalUsers:0,totalComments:0,totalViews:0});useEffect(()=>{const fetchStats=async()=>{// Lấy số lượng bài viết\nconst postsRef=ref(database,'posts');onValue(postsRef,snapshot=>{const posts=snapshot.val()||{};const postsCount=Object.keys(posts).length;let totalViews=0;Object.values(posts).forEach(post=>{totalViews+=post.viewCount||0;});setStats(prevStats=>_objectSpread(_objectSpread({},prevStats),{},{totalPosts:postsCount,totalViews}));});// Lấy số lượng người dùng\nconst usersRef=ref(database,'users');onValue(usersRef,snapshot=>{const users=snapshot.val()||{};const usersCount=Object.keys(users).length;setStats(prevStats=>_objectSpread(_objectSpread({},prevStats),{},{totalUsers:usersCount}));});// Lấy số lượng bình luận\nconst commentsRef=ref(database,'comments');onValue(commentsRef,snapshot=>{const commentsData=snapshot.val()||{};let commentsCount=0;Object.values(commentsData).forEach(postComments=>{commentsCount+=Object.keys(postComments).length;});setStats(prevStats=>_objectSpread(_objectSpread({},prevStats),{},{totalComments:commentsCount}));});};fetchStats();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"admin-title\",children:\"B\\u1EA3ng \\u0111i\\u1EC1u khi\\u1EC3n\"}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-actions\",children:/*#__PURE__*/_jsxs(Link,{to:\"/admin/posts/create\",className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle\"}),\" T\\u1EA1o b\\xE0i vi\\u1EBFt m\\u1EDBi\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.totalPosts}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"B\\xE0i vi\\u1EBFt\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-alt stat-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.totalUsers}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users stat-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.totalComments}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"B\\xECnh lu\\u1EADn\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-comments stat-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.totalViews}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"L\\u01B0\\u1EE3t xem\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye stat-icon\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recent-activities\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Ho\\u1EA1t \\u0111\\u1ED9ng g\\u1EA7n \\u0111\\xE2y\"}),/*#__PURE__*/_jsx(\"div\",{className:\"activity-placeholder\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Ch\\u01B0a c\\xF3 ho\\u1EA1t \\u0111\\u1ED9ng n\\xE0o g\\u1EA7n \\u0111\\xE2y.\"})})]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","ref","onValue","database","AdminSidebar","jsx","_jsx","jsxs","_jsxs","AdminDashboard","stats","setStats","totalPosts","totalUsers","totalComments","totalViews","fetchStats","postsRef","snapshot","posts","val","postsCount","Object","keys","length","values","forEach","post","viewCount","prevStats","_objectSpread","usersRef","users","usersCount","commentsRef","commentsData","commentsCount","postComments","className","children","to"],"sources":["C:/Users/User/OneDrive/Documents/VSCode/web/WebAPPP/client/src/pages/admin/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ref, onValue } from 'firebase/database';\nimport { database } from '../../firebase';\nimport AdminSidebar from '../../components/AdminSidebar';\n\nconst AdminDashboard = () => {\n  const [stats, setStats] = useState({\n    totalPosts: 0,\n    totalUsers: 0,\n    totalComments: 0,\n    totalViews: 0\n  });\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      // Lấy số lượng bài viết\n      const postsRef = ref(database, 'posts');\n      onValue(postsRef, (snapshot) => {\n        const posts = snapshot.val() || {};\n        const postsCount = Object.keys(posts).length;\n\n        let totalViews = 0;\n        Object.values(posts).forEach(post => {\n          totalViews += post.viewCount || 0;\n        });\n\n        setStats(prevStats => ({\n          ...prevStats,\n          totalPosts: postsCount,\n          totalViews\n        }));\n      });\n\n      // Lấy số lượng người dùng\n      const usersRef = ref(database, 'users');\n      onValue(usersRef, (snapshot) => {\n        const users = snapshot.val() || {};\n        const usersCount = Object.keys(users).length;\n\n        setStats(prevStats => ({\n          ...prevStats,\n          totalUsers: usersCount\n        }));\n      });\n\n      // Lấy số lượng bình luận\n      const commentsRef = ref(database, 'comments');\n      onValue(commentsRef, (snapshot) => {\n        const commentsData = snapshot.val() || {};\n        let commentsCount = 0;\n\n        Object.values(commentsData).forEach(postComments => {\n          commentsCount += Object.keys(postComments).length;\n        });\n\n        setStats(prevStats => ({\n          ...prevStats,\n          totalComments: commentsCount\n        }));\n      });\n    };\n\n    fetchStats();\n  }, []);\n\n  return (\n    <div className=\"admin-container\">\n      <AdminSidebar />\n\n      <div className=\"admin-content\">\n        <div className=\"admin-header\">\n          <h1 className=\"admin-title\">Bảng điều khiển</h1>\n\n          <div className=\"admin-actions\">\n            <Link to=\"/admin/posts/create\" className=\"btn btn-primary\">\n              <i className=\"fas fa-plus-circle\"></i> Tạo bài viết mới\n            </Link>\n          </div>\n        </div>\n\n        <div className=\"admin-dashboard\">\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{stats.totalPosts}</div>\n            <div className=\"stat-label\">Bài viết</div>\n            <i className=\"fas fa-file-alt stat-icon\"></i>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{stats.totalUsers}</div>\n            <div className=\"stat-label\">Người dùng</div>\n            <i className=\"fas fa-users stat-icon\"></i>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{stats.totalComments}</div>\n            <div className=\"stat-label\">Bình luận</div>\n            <i className=\"fas fa-comments stat-icon\"></i>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{stats.totalViews}</div>\n            <div className=\"stat-label\">Lượt xem</div>\n            <i className=\"fas fa-eye stat-icon\"></i>\n          </div>\n        </div>\n\n        <div className=\"recent-activities\">\n          <h2 className=\"section-title\">Hoạt động gần đây</h2>\n          <div className=\"activity-placeholder\">\n            <p>Chưa có hoạt động nào gần đây.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}